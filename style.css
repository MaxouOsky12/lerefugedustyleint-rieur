<script>
  /* SECTION REVEAL */
  const sectionObserver = new IntersectionObserver(
    entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
        }
      });
    },
    { threshold: 0.15 }
  );

  document.querySelectorAll("section").forEach(sec =>
    sectionObserver.observe(sec)
  );

  /* CARD STAGGER */
  const cardObserver = new IntersectionObserver(
    entries => {
      entries.forEach((entry, i) => {
        if (entry.isIntersecting) {
          setTimeout(() => {
            entry.target.classList.add("show");
          }, i * 120);
        }
      });
    },
    { threshold: 0.2 }
  );

  document.querySelectorAll(".card").forEach(card =>
    cardObserver.observe(card)
  );

  /* TABLE */
  const table = document.querySelector("table");
  if (table) {
    const tableObserver = new IntersectionObserver(entries => {
      if (entries[0].isIntersecting) {
        table.classList.add("show");
      }
    }, { threshold: 0.2 });

    tableObserver.observe(table);
  }
</script>
